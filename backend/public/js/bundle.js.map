{"version":3,"sources":["webpack://renta/./node_modules/timeago.js/esm/lang/en_US.js","webpack://renta/./node_modules/timeago.js/esm/lang/zh_CN.js","webpack://renta/./node_modules/timeago.js/esm/register.js","webpack://renta/./node_modules/timeago.js/esm/index.js","webpack://renta/./frontend/UI.js","webpack://renta/./frontend/services/CarService.js","webpack://renta/./frontend/app.js"],"names":["EN_US","ZH_CN","Locales","register","locale","func","diff","idx","unit","Math","floor","carService","this","URI","fetch","json","car","res","method","body","data","console","log","carId","headers","cars","getCars","carsCardContainer","document","getElementById","innerHTML","forEach","div","createElement","className","imagePath","nombre","marca","color","matricula","_id","precio","appendChild","postCars","clearCarForm","renderCars","reset","message","colorMessage","secondsToRemove","createTextNode","container","querySelector","carForm","insertBefore","setTimeout","remove","deleteCar","addEventListener","e","value","image","files","formData","FormData","append","get","ui","addNewCar","renderMessage","preventDefault","target","classList","contains","getAttribute"],"mappings":"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","file":"js/bundle.js","sourcesContent":["var EN_US = ['second', 'minute', 'hour', 'day', 'week', 'month', 'year'];\nexport default function (diff, idx) {\n    if (idx === 0)\n        return ['just now', 'right now'];\n    var unit = EN_US[Math.floor(idx / 2)];\n    if (diff > 1)\n        unit += 's';\n    return [diff + \" \" + unit + \" ago\", \"in \" + diff + \" \" + unit];\n}\n//# sourceMappingURL=en_US.js.map","var ZH_CN = ['秒', '分钟', '小时', '天', '周', '个月', '年'];\nexport default function (diff, idx) {\n    if (idx === 0)\n        return ['刚刚', '片刻后'];\n    var unit = ZH_CN[~~(idx / 2)];\n    return [diff + \" \" + unit + \"\\u524D\", diff + \" \" + unit + \"\\u540E\"];\n}\n//# sourceMappingURL=zh_CN.js.map","/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\n/**\n * All supported locales\n */\nvar Locales = {};\n/**\n * register a locale\n * @param locale\n * @param func\n */\nexport var register = function (locale, func) {\n    Locales[locale] = func;\n};\n/**\n * get a locale, default is en_US\n * @param locale\n * @returns {*}\n */\nexport var getLocale = function (locale) {\n    return Locales[locale] || Locales['en_US'];\n};\n//# sourceMappingURL=register.js.map","/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\nimport en_US from './lang/en_US';\nimport zh_CN from './lang/zh_CN';\nimport { register } from './register';\nregister('en_US', en_US);\nregister('zh_CN', zh_CN);\nexport { format } from './format';\nexport { render, cancel } from './realtime';\nexport { register };\n//# sourceMappingURL=index.js.map","import CarService from './services/CarService';\r\nconst carService = new CarService();\r\n\r\nimport { format } from 'timeago.js';\r\n\r\nclass UI {\r\n    async renderCars() {\r\n        const cars = await carService.getCars();\r\n        const carsCardContainer = document.getElementById('carros-cards');\r\n        carsCardContainer.innerHTML = '';\r\n        cars.forEach(car => {\r\n            const div = document.createElement('div');\r\n            div.className = '';\r\n            div.innerHTML = `\r\n                <div class=\"card m-2\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-4\">\r\n                            <img src=\"http://localhost:3000${car.imagePath}\" alt=\"\" class=\"img-fluid\" />\r\n                        </div>\r\n                        <div class=\"col-md-8\">\r\n                            <div class=\"card-block px-2\">\r\n                                <h4 class=\"card-title\">${car.nombre}</h4>\r\n                                <p class=\"card-text\">${car.marca}</p>\r\n                                <p class=\"card-text\">${car.color}</p>\r\n                                <p class=\"card-text\">${car.matricula}</p>\r\n                                <a href=\"#\" class=\"btn btn-danger delete\" _id=\"${car._id}\">X</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        ${car.precio}\r\n                    </div>\r\n                </div>\r\n            `;\r\n            carsCardContainer.appendChild(div);\r\n        });\r\n        console.log(cars);\r\n    }\r\n\r\n    async addNewCar(car) {\r\n        await carService.postCars(car);\r\n        this.clearCarForm();\r\n        this.renderCars();\r\n    }\r\n\r\n    clearCarForm() {\r\n        document.getElementById('car-form').reset();\r\n    }\r\n\r\n    renderMessage(message, colorMessage, secondsToRemove) {\r\n        const div = document.createElement('div');\r\n        div.className = `alert alert-${colorMessage} message`;\r\n        div.appendChild(document.createTextNode(message));\r\n\r\n        const container = document.querySelector('.col-md-4');\r\n        const carForm = document.querySelector('#car-form');\r\n\r\n        container.insertBefore(div, carForm);\r\n        console.log('Render UI');\r\n        setTimeout(() => {\r\n            document.querySelector('.message').remove();\r\n        }, secondsToRemove);\r\n\r\n    }\r\n\r\n    async deleteCar(carId) {\r\n        await carService.deleteCar(carId);\r\n        this.renderCars();\r\n    }\r\n\r\n  \r\n}\r\n\r\nexport default UI;","class CarService {\r\n    constructor() {\r\n        this.URI = 'http://localhost:3000/api/carros';\r\n      \r\n    }\r\n\r\n    async  getCars(){\r\n        const response = await fetch(this.URI)\r\n          return  response.json();\r\n        \r\n    }\r\n\r\n    async postCars(car){\r\n        const res = await fetch(this.URI, {\r\n            method: 'POST',\r\n            body: car,\r\n        });\r\n        const data = await res.json();\r\n        console.log(data);\r\n    }\r\n\r\n    async deleteCar(carId){\r\n        const res = await fetch(`${this.URI}/${carId}`, {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'DELETE',\r\n        });\r\n        const data = await res.json();\r\n        console.log(data);\r\n    }\r\n}\r\n\r\nexport default CarService;","import './styles/app.css';\r\nimport UI from './UI';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const ui = new UI();\r\n    ui.renderCars();\r\n})\r\n\r\ndocument.getElementById('car-form')\r\n.addEventListener('submit', e => {\r\n    const nombre = document.getElementById('nombre').value;\r\n    const marca = document.getElementById('marca').value;\r\n    const color = document.getElementById('color').value;\r\n    const matricula = document.getElementById('matricula').value;\r\n    const precio = document.getElementById('precio').value;\r\n    const image = document.getElementById('image').files;\r\n    console.log(image, 'Imagen ');\r\n\r\n    const formData = new FormData();\r\n    formData.append('image', image[0]);\r\n    console.log(formData.get(image));\r\n    formData.append('nombre', nombre);\r\n    formData.append('marca', marca);\r\n    formData.append('color', color);\r\n    formData.append('matricula', matricula);\r\n    formData.append('precio', precio);\r\n\r\n    const ui = new UI();\r\n    ui.addNewCar(formData);\r\n    ui.renderMessage('New Car Added', 'success', 3000);\r\n\r\n    e.preventDefault();\r\n});\r\n\r\ndocument.getElementById('carros-cards')\r\n.addEventListener('click', e => {\r\n    if(e.target.classList.contains('delete')) {\r\n        const ui = new UI();\r\n        ui.deleteCar(e.target.getAttribute('_id'));\r\n        ui.renderMessage('Car Deleted', 'danger', 3000);\r\n    }\r\n    e.preventDefault();\r\n});\r\n"],"sourceRoot":""}